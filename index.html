<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<title>Prova</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@hpcc-js/common/font-awesome/css/font-awesome.min.css">

<link rel="stylesheet" href="/style.css">

<style>
    @media only screen and (min-width: 700px)  {
        .break {display:none;}
     }
    .test {
        background: #FBFBFB;
        box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
        border-radius: 55px;
    }
    
    .clip {
        clip-path: url(#clip);
    }
    

    .clip:hover {
        opacity: 0.5;
    }

    
</style>


<style>
    body {
        padding: 0px;
        margin: 8px;
        background: white;
        color: black;
    }
    
    #placeholder {
        position: absolute;
        left: 8px;
        top: 8px;
        right: 8px;
        bottom: 8px;
        max-width: 100%;
    }
</style>
<script src="/index.full.js" type="text/javascript" charset="utf-8"></script>
<script>
    var omdMod = window["@hpcc-js/observable-md"]
</script>

</head>

<body onresize="doResize()">
    <div id="placeholder">
<!--     

<div class="columns has-text-centered">
    <div class="column is-one-quarter has-text-centered">
        <div class="has-text-centered"
            style=" border-radius: 40px;">
            <img style="height:185px" src="https://media-exp1.licdn.com/dms/image/C5622AQELfsJDH27brA/feedshare-shrink_800/0/1644480581434?e=1648684800&v=beta&t=iDD3G21lbRwqhHUnrRzT5sXyrho167vXFXAXCoG20pU" alt="" >
            <div class="has-text-centered">prova di scrittura</div>
        </div>
    </div>
    <div class="column is-one-quarter has-text-centered">
        <div class="has-text-centered"
            style=" border-radius: 40px;">
            <img style="height:185px" src="https://media-exp1.licdn.com/dms/image/C5622AQELfsJDH27brA/feedshare-shrink_800/0/1644480581434?e=1648684800&v=beta&t=iDD3G21lbRwqhHUnrRzT5sXyrho167vXFXAXCoG20pU" alt="" >
            <div class="has-text-centered">prova di scrittura</div>
        </div>
    </div>
    <div class="column is-one-quarter has-text-centered">
        <div class="has-text-centered">
            <a>
            <img style="height:185px; border-radius: 40px;" src="https://www.klarna.com/assets/sites/13/2019/12/03114336/rita-1.jpg" alt="" >
            <div class="has-text-centered">prova di scrittura</div>
            <div class="has-text-centered is-size-7">Feb 25, 2022</div>
            </a>
        </div>
    </div>







    
    <div class="column is-one-quarter has-text-centered">
        <div class="has-text-centered"
            style=" border-radius: 40px;">
            <img style="height:185px" src="https://media-exp1.licdn.com/dms/image/C5622AQELfsJDH27brA/feedshare-shrink_800/0/1644480581434?e=1648684800&v=beta&t=iDD3G21lbRwqhHUnrRzT5sXyrho167vXFXAXCoG20pU" alt="" >
            <div class="has-text-centered">prova di scrittura</div>
        </div>
    </div>    
</div> -->


  


</div>
</div>












    <script>
        var app = new omdMod.Observable()
            .target("placeholder")
            .showValues(false)
            .mode("ojs")
            .text(`

link = "https://docs.google.com/document/d/1PEy7Bfk_z5farrxHhU4tNbj8bX9pfI92Q_YTc5Psy6Q/edit?usp=sharing"
sdata2 = {
    return await d3.text(
      link.substr(0, link.indexOf("/edit")) + "/export?format=html"
    );
  }

  

  ref={
    var ref = find_all(/<a/g, "href=", ";");
    var _ref = [];
    for (const value of ref) {
        _ref.push(value.slice(35, value.length-4));
    }

    return _ref;
  }

  
  src= {
    var src = find_all(/<img/g, "src=", '" style');
    var _src = [];
    for (const value of src) {
      _src.push(value.slice(5, value.length));
    }
    return _src;
  };

span={
    var span_ = find_all(/<span/g, ">", "<");
    var span=[]
    for (const value of span_) {
  if (value!=">"){
      span.push(value.slice(1,value.lenght))
  }
}return span}

title = {
    var title = [];
    for (let index = 0; index < span.length; ++index) {
      if (index % 2 != 1) {
        title.push(span[index]);
      }
    }
    return title;
  }

  date = {
    var title = [];
    for (let index = 0; index < span.length; ++index) {
      if (index % 2 == 1) {
        title.push(span[index]);
      }
    }
    return title;
  }


<!-- ----------------------------------------------------------------------- -->
<!--                               custom html                               -->
<!-- ----------------------------------------------------------------------- -->


function ptf(params) {
    var cliccable = document.getElementById("portfolio");
    if (cliccable !== null) {
      var div = cliccable.appendChild(document.createElement("div"));
      div.classList.add(...["column", "is-one-quarter", "has-text-centered"]);
  
      var div1 = div.appendChild(document.createElement("div"));
      div1.classList.add("has-text-centered");
      div1.style="height:80%;"
      //a
      var a = div1.appendChild(document.createElement("a"));
      a.href = ref[params];
      a.style="color:black; opacity:0.9"
      //img
      var img = a.appendChild(document.createElement("img"));
      img.style="border-radius: 40px; height:185px;"
      img.src = src[params];
      img.classList.add("clip");
      
  
      //div
      var div_title = a.appendChild(document.createElement("div"));
      div_title.innerText = title[params];
  
      var div_date = a.appendChild(document.createElement("div"));
      div_date.innerText = date[params];
      div_date.classList.add("is-size-7");
    }
  }

{
    {
        await new Promise((r) => setTimeout(r, 1350));
        for (let index = 0; index < (ref.length); ++index) {
            ptf(index);
            
          };
    }
}


  <!-- ----------------------------------------------------------------------- -->
  <!--                                functions                                -->
  <!-- ----------------------------------------------------------------------- -->
  function find_all(regexp, start, end) {
    var prl = [];
    var array = [...sdata2.matchAll(regexp)];
    for (let cc = 0; cc < array.length; ++cc) {
      prl.push(
        extractword(
          sdata2.slice(array[cc]["index"], sdata2.length),
          start,
          end
        )[0]
      );
    }
    return prl;
  }
  function extractword(str, start, end) {
    var startindex = str.indexOf(start);
    var endindex = str.indexOf(end, startindex);
    const fruits = [];
    if (startindex != -1 && endindex != -1 && endindex > startindex)
      fruits.push(str.substring(startindex, endindex));
    return fruits;
  }
`)
            ;

        doResize();

        function doResize() {
        if (app) {
            app
                .resize()
                .lazyRender()
                ;
        }
    }
    </script>

    <script>
        var app1 = new omdMod.Observable()
            .target("placeholder")
            .showValues(false)
            .mode("ojs")
            .text(`


link = "https://docs.google.com/document/d/1k8TnSZQmbUtL22PnVtk3z61o1uth9yEoS3C1bG-w5UU/edit?usp=sharing"

<!-- link= "https://docs.google.com/document/d/1rcvHND3kPbS-dErVwzSrd9mYyNsscgDCtOGUuo5pEto/edit?usp=sharing" -->

sdata2 = {
  return await d3.text(
    link.substr(0, link.indexOf("/edit")) + "/export?format=html"
  );
}
 
(el.innerHTML = data)

el = {
  await new Promise((r) => setTimeout(r, 1000));
  return document.createElement("div");
}

el.setAttribute("id", "testid")

clss=["p-6", "has-padding-mobile"]

el.setAttribute("class", "p-6 has-padding-mobile")


/* generator(data, el.getElementsByTagName("img")[0].getAttribuCte("src")) */

/* el.getElementsByTagName("table") */

/* abcElements = \$("#testid > * ").each(function () {
  return alert.value;
}) */

/* abcElements[13].tagName */


<!--  -->
<!-- utilities -->
function add_ids(sdata2) {
  var abcElements = \$("#testid > *").each(function () {
    return alert.value;
  });
  for (var i = 0; i < abcElements.length; i++) abcElements[i].id = "abc-" + i;
}



function change_element(asis, tobe) {
  var index;
  // Copy the children
  while (asis.firstChild) {
    tobe.appendChild(asis.firstChild); // *Moves* the child
  }

  // Copy the attributes
  for (index = asis.attributes.length - 1; index >= 0; --index) {
    tobe.attributes.setNamedItem(asis.attributes[index].cloneNode());
  }

  // Replace it
  asis.parentNode.replaceChild(tobe, asis);
}

table = el.getElementsByTagName("table")

tobe = "div"

classesToAddclms = ["columns", "is-vcentered"]
classesToAddclm = ["column"]

function fix_table() {
  for (let f = 0; f < table.length; ++f) {
    for (let h = 0; h < table[f].children.length; ++h) {
      for (let z = 0; z < table[f].children[h].children.length; ++z) {
        for (
          let x = 0;
          x < table[f].children[h].children[z].children.length;
          ++x
        ) {
          table[f].children[h].children[z].children[x].classList.add(...classesToAddclm);
          change_element(
            table[f].children[h].children[z].children[x],
            document.createElement(tobe)
          );
        }
        table[f].children[h].children[z].classList.add(...classesToAddclms);
        table[f].children[h].children[z].style.height="100%";
        change_element(
          table[f].children[h].children[z],
          document.createElement(tobe)
        );
      }
      table[f].children[h].classList.add("p-0");
      change_element(table[f].children[h], document.createElement(tobe));
    }
    table[f].classList.add("p-0");
    change_element(table[f], document.createElement(tobe));
    var x = f;
  }
  return x;
}

function massive_change(element, tobe) {
  for (let f = 0; f < element.length; ++f) {
    change_element(element[f], document.createElement(tobe));
    var x = f;
  }
  return x;
}

/* massive_change(table, "div") */

function* generator(variab, elem) {
  while (true) {
    yield elem;
  }
}

{
  await new Promise((r) => setTimeout(r, 250));
  for (let index = 0; index < 10; ++index) {
    massive_change(el.getElementsByTagName("p"), "div");
  };

  for (let index = 0; index < 10; ++index) {
    fix_table();
  };
  add_ids(data);

}


<!--  -->

regexp = /(height)/gi

array = [...sdata2.matchAll(regexp)]

function extractword(str, start, end) {
  var startindex = str.indexOf(start);
  var endindex = str.indexOf(end, startindex);
  const fruits = [];
  if (startindex != -1 && endindex != -1 && endindex > startindex)
    fruits.push(str.substring(startindex, endindex));
  return fruits;
}

x = extractword(sdata2, ";width:", "pt;")

/* data = sdata2.replace(/(;width:).*pt;/gm, ";") */

function remove_style(regexp,start,end) {
  var prl = [];
  var array = [...sdata2.matchAll(regexp)];
  for (let cc = 0; cc < array.length; ++cc) {
    prl.push(
      extractword(
        sdata2.slice(array[cc]["index"], sdata2.length),
        start,
        end
      )[0]
    );
  }
  return prl;
}

width_rm = remove_style(/(width:)/gi, "width:", ";")

height_rm_ = remove_style(/(height)/gi, "height:", "}")
border_rm = remove_style(/(border)/gi, "border", "solid")



results = height_rm_.filter((element) => {
  return element !== undefined;
})

height_rm = {
  var fruits = [];
  for (const value of results) {
    if (value.length < 20) {
      fruits.push(value);
    }
  }
  return fruits;
}

wdt = {
  var wdt = [];
  for (const value of width_rm) {
      if (value !== undefined){
    wdt.push(value)};
  }
  return wdt;
}

major = {
    var minor_ = remove_style(/(&gt;)/gi, "&gt", ";");
    var fruits = [];
    for (const value of minor_) {
      fruits.push(value + ";");
    }
    return fruits;
  }
minor = {
    var minor_ = remove_style(/(&lt;)/gi, "&lt", ";");
    var fruits = [];
    for (const value of minor_) {
      fruits.push(value + ";");
    }
    return fruits;
  }
  quotes = {
    var d = remove_style(/(&quot;)/gi, "&quot", ";");
    var fruits = [];
    for (const value of d) {
      fruits.push(value + ";");
    }
    return fruits;
  }
  <!-- padding_rm = remove_style(/(padding-)/gi, "padding", ";") -->

function clean_style(_string, list,replace) {
  for (let dd = 0; dd < list.length; ++dd) {
    _string = _string.replace(list[dd], replace);
  }
  return _string;
}

function the_cleaner_sc(sdata2) {
    var tmp1 = clean_style(
      clean_style(clean_style(sdata2, minor, "<"), major, ">"),
      quotes,
      '"'
    );
    return tmp1;
  }

  function the_cleaner(sdata2) {
    var tmp1 = clean_style(
      clean_style(
        clean_style(
          clean_style(
            clean_style(clean_style(sdata2, wdt, ""), ["height:0pt"], ""),
            border_rm,
            ""
          ),
          minor,
          "<"
        ),
        major,
        ">"
      ),
      quotes,
      '"'
    );
    
    return tmp1;
  }

h6 = remove_style(/(<h6)/gi, "<h6", "/h6>")

data = {
    //inizio
    var base = "";
    var to_change1 = sdata2.substring(0, sdata2.indexOf(h6[0]));
  
    base = base.concat(the_cleaner(to_change1));
  
    function lp(base) {
      for (let mm = 0; mm < h6.length - 1; ++mm) {
        var safe = h6[mm];
        var len_intermedia = safe.length;
  
        var to_change = sdata2.substring(
          sdata2.indexOf(h6[mm]) + len_intermedia,
          sdata2.indexOf(h6[mm + 1])
        );

        base = base.concat(the_cleaner_sc(safe), the_cleaner(to_change));
    }
    return base;
}
    base = lp(base);
  
    //fine
    var safe_row2 = h6[h6.length - 1];
    var len_intermedia_f = safe_row2.length;
  
    var to_change3 = sdata2.substring(
      sdata2.indexOf(safe_row2) + len_intermedia_f,
      sdata2.length
    );
  
    base = base.concat(the_cleaner_sc(safe_row2), the_cleaner(to_change3));
  
    return base;
  }

  <!-- ----------------------------------------------------------------------- -->
  <!--                                 custom                                  -->
  <!-- ----------------------------------------------------------------------- -->


  fetch_img = "https://docs.google.com/document/d/1tTU0_X-kBv_Ydg4x8v7LbgfW9E1sSUtmawL1ZbVEbAY/edit?usp=sharing"

  df = {
    return await d3.text(
        fetch_img.substr(0, fetch_img.indexOf("/edit")) + "/export?format=html"
    );
  }
  
  
  function find_image(regexp, start, end) {
    var prl = [];
    var array = [...df.matchAll(regexp)];
    for (let cc = 0; cc < array.length; ++cc) {
      prl.push(
        extractword(
          df.slice(array[cc]["index"], df.length),
          start,
          end
        )[0]
      );
    }
    return prl;
  };

  src = find_image(/<img/g, "src=", '" style')
  ref = find_image(/<a/g, "href=", ";")


  function clean_src(src) {
    var _src = [];
    for (const value of src) {
      _src.push(value.slice(5, value.length));
    }
    return _src;
  };

  function clean_ref(ref) {
    var _ref = [];
    for (const value of ref) {
        _ref.push(value.slice(35, value.length-4));
    }

    return _ref;
  };

  function icon(params) {
    var cliccable = document.getElementById("cliccabili" + params);
    if (cliccable !== null){
    cliccable.href = clean_ref(ref)[params];
    var img = cliccable.children[0];

  img.src = clean_src(src)[params];
  img.classList.add("clip");
}
}




{
    await new Promise((r) => setTimeout(r, 1350));
    for (let index = 0; index < (ref.length); ++index) {
        icon(index);
        
      };
}
    
\$ = require("jquery")


<!--  -->
`)

        ;

        doResize();

        function doResize() {
            if (app1) {
                app1
                    .resize()
                    .lazyRender();
            }
        }
    </script>
</body>

</html>
